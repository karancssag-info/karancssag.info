{% raw %}
<script defer src="/js/kozig.js?v=l"></script>
<style>
    a[aria-expanded=true] .cclose {
        display: none;
    }

    a[aria-expanded=false] .copen {
        display: none;
    }

    ul.loading {
        background: url(/img/loading.svg) no-repeat top center;
        display: block;
        height: 20px;
    }
</style>

<div id="app">
    <ul v-bind:class="loading?'loading':''" >
        <li v-for="(index, city) in jobs">
            <span v-if="index.jobs.length">
                <a data-toggle="collapse" v-bind:href="'#req'+index.id" role="button" aria-expanded="false"
                   aria-controls="collapseExample">
                    <i class="fas fa-folder cclose"></i><i class="fas fa-folder-open copen"></i> - {{ index.name }}
                </a>
                <span class="badge badge-primary" v-if="index.jobs.length">{{ index.jobs.length }}</span>
                <span class="sr-only">unread messages</span>
            </span>
            <span v-else>
                <i class="fas fa-folder cclose"></i> - {{ index.name }}
            </span>
            <ul class="collapse" v-bind:id="'req'+index.id">
                <li v-for="(job, jIndex) in index.jobs">
                    <a v-bind:href="job.link" target="_blank">{{ job.position }}</a><br/>
                    <small class="text-muted">
                        Közzétevő: <b>{{ job.publisher }}</b><br/>
                        Hely: <b>{{ job.place }}</b><br/>
                        Jogviszony: <b>{{ job.type }}</b><br/>
                        Jelentkezési határidő: <b>{{ job.deadline }}</b></small>
                </li>
            </ul>
        </li>
    </ul>
</div>
{% endraw %}